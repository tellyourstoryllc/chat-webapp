<form class='create-room-form'>
  <h1 class='title'>Create A New Room</h1>
  {{#if createGroupErrorMessage}}
    <div class='alert alert-error'>{{createGroupErrorMessage}}</div>
  {{/if}}
  <div class='control-group'>
    <label>Room Name</label>
    {{input type='text' value=newRoomName autocomplete='off'}}
  </div>
  <div class='form-actions'>
    <button type='submit' {{action 'createRoom'}} {{bind-attr disabled='isCreatingGroup'}}>Create Room</button>
  </div>
</form>

{{#if rooms}}
  {{#with view as lobbyView}}
    <table class='rooms-table'>
      <tr>
        <th colspan='3'>Rooms</th>
      </tr>
      {{#each room in rooms itemViewClass='App.RoomsTableRowView'}}
        <td>
          {{#if view.isRenaming}}
            <form>
              {{input type='text' value=view.newName classNames='new-name' placeholder='New Name'}}
              <button type='submit' {{action 'saveRoomName' room target='view'}}
                {{bind-attr disabled='room.isNameLocked'}}>Save</button>
            </form>
          {{else}}
            <div class='room-name'>
              {{#link-to 'rooms.room' room}}{{room.name}}{{/link-to}}
            </div>
          {{/if}}
        </td>
        <td>
          {{#if view.isRenaming}}
            <a href='#' {{action 'cancelRenamingRoom' target='view'}}>Cancel</a>
          {{else}}
            {{#if view.isAdmin}}
              <a href='#' {{action 'renameRoom' room target='view'}}>Rename</a>
            {{/if}}
          {{/if}}
        </td>
        <td>
          {{! Room options. }}
          <a href='#' class='room-menu-toggle' {{action 'toggleRoomMenu' room target=lobbyView bubbles=false}} {{bind-attr data-room-id='room.id'}}>...</a>
        </td>
      {{/each}}
    </table>

    <ul class='menu lobby-room-menu' role='menu'>
      <li class='menu-item' {{action 'leaveRoom' target=lobbyView}}>Leave Room</li>
    </ul>
  {{/with}}
{{/if}}
