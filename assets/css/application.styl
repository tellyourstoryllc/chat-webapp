@import 'reset.css'
@import 'nib/text/ellipsis'
@import 'nib/overflow'
@import 'nib/vendor'

link-color = #417ACE

base-line-height = 20px

warning-text-color = #c09853
warning-background-color = #fcf8e3
warning-border-color = darken(adjust(warning-background-color, 'hue', -10), 3%)

error-text-color       = #b94a48
error-background-color = #f2dede
error-border-color     = darken(adjust(error-background-color, 'hue', -10), 3%)

.pull-left
  float left

.pull-right
  float right

.clearfix
  &:before, &:after
    content ""
    display table
    line-height 0
  &:after
    clear both

.alert
  margin-bottom base-line-height
  border 1px solid warning-border-color
  border-top-left-radius 4px
  border-top-right-radius 4px
  padding 5px 10px
  background-color warning-background-color
  color warning-text-color

.alert-error
  border-color error-border-color
  background-color error-background-color
  color error-text-color

.status-dot
  display inline-block
  box-sizing border-box
  width 10px
  height 10px
  border 1px solid rgba(0,0,0, .05)
  border-radius 50%
  box-shadow inset 0 3px 3px rgba(255,255,255, .5), inset 0 -3px 3px rgba(0,0,0, .3), 0 1px 1px rgba(0,0,0, .25)

  &.available
    background-color #A2D61C

  &.away
    background-color #FDB00D

  &.do_not_disturb
    background-color #DA362A

  &.unavailable
    background-color #BBBBBB

.emoticon
  height 25px
  width auto
  vertical-align middle


html
  min-height 100%

body
  font-family Helvetica, Arial, sans-serif
  overflow hidden

a
  color link-color

room-sidebar-width = 200px

.navbar
  box-sizing border-box
  width room-sidebar-width
  padding 10px 10px 0
  background-color #313947

  a
    color #fff
    text-decoration none

body.logged-out
  background-color #EDEDED
  .navbar
    width auto

.brand
  float left
  margin-bottom 10px
  font-size 16px

  > a
    color #fff

.empty-content-page
  text-align center
  margin 20px

@media (max-width: 480px)
  .empty-content-page
    margin-left 10px
    margin-right 10px

.form
  border 1px solid #ccc
  border-radius 4px
  padding 10px
  background-color #F8F8F8
  font-size 14px

  .title
    margin-bottom 20px

  input[type=text], input[type=email], input[type=password], button
    padding 5px 10px
    font-size 14px

  input[type=text], input[type=email], input[type=password]
    width 188px

  .control-group
    margin-bottom 10px

  .form-actions
    text-align right

  .related-link
    float left
    color #aaa
    font-size 11px
    text-align left

.login-form
  width 214px
  margin 20px

  input[type=text], input[type=email], input[type=password]
    width 188px

.signup-form
  width 214px
  margin 20px

  input[type=text], input[type=email], input[type=password]
    width 188px

  .related-link
    font-size 9px

.rooms-sidebar
  position fixed
  box-sizing border-box
  width room-sidebar-width

.rooms-list
  box-sizing border-box
  width room-sidebar-width
  background-color #313947

.room-list-item

  > a
    display block
    overflow hidden

    border-top 1px solid rgba(255,255,255, .2)
    border-bottom 1px solid rgba(0,0,0, .15)
    padding 10px
    color #aaa
    text-decoration none

    &:hover
      color #ccc

    &.active
      background-color #242B37
      color #eee
      border-top-color transparent
      border-bottom-color transparent

  &.unread

    > a
      color #c00

.current-user-status-bar
  position fixed
  left 0
  bottom 0
  box-sizing border-box
  width room-sidebar-width
  background-color #3F4755
  color #aaa

.current-user-status
  padding 10px
  // Clickable.
  cursor pointer

  &:hover
    color #ccc

  .idle-time
    font-size 11px

.choose-status-menu
  display none // Initially hidden.
  position fixed
  left 5px
  bottom 37px
  box-sizing border-box
  width room-sidebar-width - 10px
  overflow hidden
  background-color #ccc
  border-radius 4px
  box-shadow 0 0 3px rgba(0,0,0, .2)

  .menu-item
    padding 5px 10px
    cursor pointer

    &:hover
      background-color #E0E0E0

  .separator
    height 0
    border 1px solid #888
    border-bottom-color #eee

.room-content
  position fixed
  top 0
  width 100%
  height 100%
  margin-left room-sidebar-width
  background-color #EDEDED

.create-room-form
  width 260px
  margin 20px
  border 1px solid #ccc
  border-radius 4px
  padding 10px
  background-color #F8F8F8
  font-size 14px

  .title
    margin-bottom 20px

  input[type=text], button
    font-size 14px

  input[type=text]
    width 168px

  .control-group
    margin-bottom 10px

  .form-actions
    text-align right

.rooms-table
  margin 20px
  background-color #F0F0F0

  th, td
    border 1px solid #ccc
    padding 5px 10px

  th
    text-align left

  a
    text-decoration none

    &:hover
      text-decoration underline

  .odd td
    background-color #F8F8F8

  .room-name
    width 200px
    overflow ellipsis

room-members-sidebar-width = 150px

.room-members-sidebar
  position fixed
  right 0
  box-sizing border-box
  width room-members-sidebar-width
  height 100%
  overflow hidden
  padding 5px 10px
  background-color #fff
  font-size 12px
  line-height 1.2em

  .title
    margin-bottom 10px

  .room-member
    color #000

  .status-text
    box-sizing border-box
    width 100%
    max-height 2.4em
    overflow hidden
    padding-left 14px // Indent .status-dot width.
    color #A9A9A9
    font-size 11px

.room-container
  position absolute

  .room-info
    border 1px solid #B4B4B4
    background-color #E6E6E6

  .room-info-table
    width 100%

    td
      padding 2px 5px

  .room-permalink
    text-decoration none

  .invite-link
    text-align right

.messages
  // Scrollable.
  overflow auto

  box-sizing border-box
  border-left 1px solid #B4B4B4
  border-right 1px solid #B4B4B4
  background-color #fff

.loading-more-messages
  position absolute
  box-sizing border-box
  width 100px
  margin 0 auto
  padding 7px 10px
  background-color rgba(0,0,0, .05)
  border-radius bottom 6px
  font-size 12px
  text-align center

  transition opacity 0.1s ease-out

  &.hidden
    opacity 0

.message
  border-top 1px solid #E1E1E1
  font-size 14px

  .message-table
    width 100%
    border-collapse separate

  .sender-cell, .body-cell
    padding 5px
    vertical-align top

  .sender-cell
    width 150px
    border-top 1px solid #fff
    border-right 1px solid #fff
    background-color #F7F7F7
    text-align right

  .body-cell
    border-left 1px solid #E1E1E1

  &.sent-by-you
    border-color #BFD6EA

    .sender-cell
      border-color #F3F7FB
      background-color #E4ECF6

    .body-cell
      border-color #BFD6EA
      background-color #F3F7FB

  .sender, .message-body
    line-height 20px

  .sender
    padding 0 5px
    cursor pointer // Clickable.

    // Truncate with ellipsis.
    box-sizing border-box
    width 150px
    overflow hidden
    white-space nowrap
    text-overflow ellipsis

    color #686868
    font-weight bold

  .message-body
    white-space pre-wrap

  .mention
    border 1px solid #B4B4B4
    border-radius 4px
    padding 0 3px

    color #000
    background-color #efefef

    &.you
      border-color #4A84BD
      color #fff
      // Gradient.
      background-color #6E9EC3
      background -webkit-gradient(linear, 0% 0%, 0% 100%, from(#4A84BD), to(#6E9EC3))
      background -webkit-linear-gradient(top, #6E9EC3, #4A84BD)
      background -moz-linear-gradient(top, #6E9EC3, #4A84BD)
      background -ms-linear-gradient(top, #6E9EC3, #4A84BD)
      background -o-linear-gradient(top, #6E9EC3, #4A84BD)
      background linear-gradient(to bottom, #6E9EC3, #4A84BD)

  .status
    float right
    margin 0 0 5px 10px
    color #ccc
    font-size 10px

  .error
    color #b94a48

.connecting-status-bar
  position absolute
  bottom 0
  box-sizing border-box
  border 1px solid warning-border-color
  border-top-left-radius 8px
  border-top-right-radius 8px
  box-shadow 0 0 5px rgba(0,0,0,0.13)
  padding 5px 10px
  background-color warning-background-color
  color warning-text-color
  opacity 0.9
  text-align center

  transition bottom 0.3s ease-out

.send-message-area
  position absolute
  bottom 0
  box-sizing border-box
  height 45px
  padding 5px
  border 1px solid #B4B4B4
  border-bottom 0
  background-color #E6E6E6

  .send-message-text
    width 300px
    height 27px
    font-size 12px

    &:focus
      outline 0

  .send-message-file-button
    position absolute
    top 5px
    right 63px
    margin 0
    padding 8px
    font-size 14px
    width 70px

  .send-message-file
    display none

  .send-button
    position absolute
    top 5px
    right 5px
    margin 0
    padding 8px
    font-size 14px

.autocomplete
  position absolute
  left 10px
  bottom 54px
  border-radius 6px
  box-shadow 0 0 5px rgba(0,0,0, .2)
  background-color #fff
  overflow hidden
  opacity 0.95

  transition opacity 0.1s ease-in, visibility 0.1s ease-in

  &.hidden
    opacity 0
    visibility hidden

.autocomplete-item
  padding 2px 10px
  cursor pointer

  &.all-item
    padding-left 23px

  &.active
    background-color #D4D4D4

  strong
    font-weight bold
